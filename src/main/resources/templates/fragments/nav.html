<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<nav class="navbar navbar-expand-md navbar-dark bg-dark"
	th:fragment="nav-front">
	<div class="container-fluid">
		<a class="navbar-brand" href="/">SWATI Shopping cart</a>
		<button class="navbar-toggler" type="button" data-bs-toggle="collapse"
			data-bs-target="#navbarCollapse" aria-controls="navbarCollapse"
			aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarCollapse">
			<ul class="navbar-nav me-auto mb-2 mb-md-0">
			<li th:each="pagename : ${allpages}" th:if="${pagename.slug != 'home'}" class="nav-item" ><a class="nav-link active"
					aria-current="page" th:href="@{'/' + ${pagename.slug}}" th:text="${pagename.title}"></a></li>
			<li th:if="${principal == 'admin'}" class="nav-item" ><a class="nav-link active"
					aria-current="page" th:href="@{'/admin/pages'}" th:text="Admin"></a></li>
			</ul>
			
			<ul class="float-right navbar-nav" th:if="${principal == null}">
				<li class="nav-item active" ><a th:href="@{/register}" class="nav-link" > Register </a></li>
				<li class="nav-item active" ><a th:href="@{/login}" class="nav-link" > Login </a></li>
		   </ul>
		   
		   <form th:if="${principal != null}" method="post" th:action="@{/logout}">
		   		<span class="text-white" th:text="${'Hi ' + principal}"></span>
		   		<button class="btn btn-secondary"> Logout </button>		   
		   </form>
		
		</div>
		
		
	</div>
</nav>

<nav class="navbar navbar-expand-md navbar-dark bg-dark"
	th:fragment="nav-admin">
	<div class="container-fluid">
		<a class="navbar-brand" href="/" target="_blank">Home page</a>
		<button class="navbar-toggler" type="button" data-bs-toggle="collapse"
			data-bs-target="#navbarCollapse" aria-controls="navbarCollapse"
			aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarCollapse">
			<ul class="navbar-nav me-auto mb-2 mb-md-0">
				<li class="nav-item"><a class="nav-link active"
					aria-current="page" href="/admin/pages">Pages</a></li>
				<li class="nav-item"><a class="nav-link active"
					aria-current="page" href="/admin/categories">Categories</a></li>
				<li class="nav-item"><a class="nav-link active"
					aria-current="page" href="/admin/products">Products</a></li>
			</ul>
			<ul class="float-right navbar-nav" th:if="${principal == null}">
				<li class="nav-item active" ><a th:href="@{/register}" class="nav-link" > Register </a></li>
				<li class="nav-item active" ><a th:href="@{/login}" class="nav-link" > Login </a></li>
		   </ul>
		   
		   <form th:if="${principal != null}" method="post" th:action="@{/logout}">
		   		<span class="text-white" th:text="${'Hi ' + principal}"></span>
		   		<button class="btn btn-secondary"> Logout </button>		   
		   </form>
		</div>
	</div>
</nav>
</html>